{"name":"O12 Vorlage Kfz Kennzeichen","modules":[{"name":"Autokennzeichen","text":"\n/** Klasse Autokennzeichen (Informatik 5, S. 27/2) \n * */\n \nenum ZUSTAND { kfz, bezirk1, bezirk2, bezirk3, leer1, buchstabe1, buchstabe2, leer2, ziffer1, ziffer2, ziffer3, ziffer4, ungueltig };\n\npublic class Autokennzeichen\n{\n   private ZUSTAND aktuellerZustand;\n\n   public Autokennzeichen()\n   {\n   }\n\n    /**\n     * der eingegebene Text wird darauf untersucht, ob er ein gültiges deutsches KFZ-Kennzeichen ist\n     * es wird aber nicht überprüft, ob das Landkreiskennzeichen existiert (z.B. wird \"ÄÄÄ B 14\" erlaubt)\n     * \n     * @param  kennzeichen  das zu überprüfende Kennzeichen\n     * @return  true falls das Kennzeichen gültig ist, false sonst\n     */\n   public boolean istKennzeichenGueltig(String kennzeichen)\n   {\n      // aktuellen Zustand auf Startzustand setzen\n      aktuellerZustand = ZUSTAND.kfz;\n\n      // für alle Zeichen die Methode zustandWechseln aufrufen\n      for(int i = 0; i < kennzeichen.length() && aktuellerZustand != ZUSTAND.ungueltig; i++) {\n         String fehler = zustandWechseln(kennzeichen.charAt(i));\n         if(fehler != null) {\n            println(\"Nach \\\"\" + kennzeichen.substring(0, i) + \"\\\" wurde nicht ein \" + fehler + \" wie '\" + kennzeichen.charAt(i) + \"' erwartet.\");\n         }\n         if(aktuellerZustand == ZUSTAND.ungueltig) return false;\n      }\n     \n      // Rückgabe true, wenn ein Endzustand erreicht ist, sonst falsch\n      switch(aktuellerZustand) {\n         case ziffer1 : \n         case ziffer2 : \n         case ziffer3 : \n         case ziffer4 : \n            return true;\n         default : \n            println(\"Das Kennzeichen ist zu kurz.\");\n            return false;\n             \n      }\n      return false;\n   }\n    \n    /**\n     * je nach aktuellem Zustand und dem eingegebenen Zeichen wird der Zustand gewechselt\n     * Implementierung des endlichen Automaten zur KFZ-Kennzeichen-Erkennung\n     * \n     * @param  kennzeichen  das zu überprüfende Kennzeichen\n     * @return  true falls das Kennzeichen gültig ist, sonst false \n     */\n   private String zustandWechseln(char eingabeZeichen) {\n      boolean istBuchstabe = Character.isLetter(eingabeZeichen);\n      boolean istZiffer = Character.isDigit(eingabeZeichen);\n      boolean istLeerzeichen = Character.isWhitespace(eingabeZeichen);\n      boolean nichtKlein = Character.toUpperCase(eingabeZeichen) == eingabeZeichen;\n\n      ZUSTAND neuerZustand = ZUSTAND.ungueltig;\n      String fehler = null;\n\n      if(istLeerzeichen) {\n         switch(aktuellerZustand) {\n            case bezirk1 : \n            case bezirk2 : \n            case bezirk3 : \n               neuerZustand = ZUSTAND.leer1; \n               break;\n            case buchstabe1 : \n            case buchstabe2 : \n               neuerZustand = ZUSTAND.leer2; \n               break;\n            default : \n               fehler = \"Leerzeichen\";\n               break;\n         }\n      }\n      else if(istBuchstabe) {\n         if(! nichtKlein) {\n            fehler = \"Kleinbuchstabe\";\n         } else {\n            switch(aktuellerZustand) {\n               case kfz : neuerZustand = ZUSTAND.bezirk1; break;\n               case bezirk1 : neuerZustand = ZUSTAND.bezirk2; break;\n               case bezirk2 : neuerZustand = ZUSTAND.bezirk3; break;\n               \n               case leer1 : neuerZustand = ZUSTAND.buchstabe1; break;\n               case buchstabe1 : neuerZustand = ZUSTAND.buchstabe2; break;\n               default : \n                  fehler = \"Großbuchstabe\";\n                  break;\n            }\n         }\n      }\n      else if(istZiffer) {\n         switch(aktuellerZustand) {\n            case leer2 : neuerZustand = ZUSTAND.ziffer1; break;\n            case ziffer1 : neuerZustand = ZUSTAND.ziffer2; break;\n            case ziffer2 : neuerZustand = ZUSTAND.ziffer3; break;\n            case ziffer3 : neuerZustand = ZUSTAND.ziffer4; break;\n            default : \n               fehler = \"Ziffer\";\n         }\n      }\n      else{\n         fehler = \"Sonderzeichen\";\n      }\n\n      aktuellerZustand = neuerZustand;\n\n      return fehler;\n     \n   }\n    \n   \n}\n","identical_to_repository_version":false},{"name":"Testablauf","text":"Autokennzeichen kennzeichen = new Autokennzeichen();\nString aufdruck = \"TES T 1\";\n\nif(kennzeichen.istKennzeichenGueltig(aufdruck)) {\n   Text schild = new Text(30, 30, 40, aufdruck);\n   schild.setFillColor(\"white\");\n}\nelse {\n   Text fehler = new Text(30, 30, 40, \"UNGÜLTIG!\");\n   fehler.setFillColor(\"red\");\n}\n","identical_to_repository_version":false}],"settings":{"libraries":[]}}